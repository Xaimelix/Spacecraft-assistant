# Функционал ИИ Агента для Космического Корабля

## Обзор
ИИ агент предназначен для мониторинга, управления и поддержки систем космического корабля. Агент может обращаться к различным инструментам и источникам информации для выполнения задач.

## Основные категории функционала

### 1. Мониторинг систем корабля
- **Температура**: получение текущей температуры различных систем (двигатель, кабина, системы жизнеобеспечения)
- **Давление**: мониторинг давления в различных отсеках
- **Уровень кислорода**: контроль содержания кислорода в атмосфере
- **Уровень топлива**: отслеживание остатка топлива
- **Энергопотребление**: мониторинг энергопотребления систем
- **Радиационный фон**: контроль уровня радиации

### 2. Управление системами
- **Включение/выключение систем**: управление различными подсистемами корабля
- **Регулировка параметров**: изменение настроек систем (температура, давление и т.д.)
- **Аварийное отключение**: экстренное отключение систем при необходимости

### 3. Навигация и ориентация
- **Текущая позиция**: получение координат корабля
- **Скорость**: текущая скорость движения
- **Ориентация**: углы крена, тангажа, рыскания
- **Траектория**: расчет и корректировка траектории полета

### 4. Коммуникация
- **Связь с Землей**: отправка и получение сообщений
- **Внутренняя связь**: коммуникация с экипажем
- **Логирование событий**: запись важных событий в журнал

### 5. Работа с документацией (RAG)
- **Поиск в базе знаний**: поиск информации в загруженных документах
- **Ответы на вопросы**: генерация ответов на основе документации
- **Процедуры**: поиск и выполнение процедур из документации

### 6. Диагностика и обслуживание
- **Проверка систем**: диагностика состояния систем
- **Предупреждения**: генерация предупреждений о проблемах
- **Рекомендации**: предложения по обслуживанию и ремонту

### 7. Планирование и оптимизация
- **Планирование задач**: составление планов выполнения задач
- **Оптимизация ресурсов**: оптимизация использования ресурсов
- **Прогнозирование**: предсказание возможных проблем

## Архитектура агента

### Граф состояний
Агент использует граф состояний для принятия решений:
1. **Анализ запроса**: определение типа запроса и необходимых инструментов
2. **Выбор инструментов**: выбор подходящих инструментов для выполнения задачи
3. **Выполнение**: выполнение выбранных инструментов
4. **Синтез ответа**: объединение результатов и генерация ответа
5. **Проверка необходимости дополнительных действий**: определение, нужны ли дополнительные шаги

### Инструменты (Tools)
Агент имеет доступ к различным инструментам:
- **Сенсорные инструменты**: получение данных с датчиков
- **Инструменты управления**: управление системами
- **RAG инструменты**: поиск в базе знаний
- **Инструменты коммуникации**: отправка сообщений

### Интеграция с RAG
Агент может комбинировать:
- Данные с датчиков в реальном времени
- Информацию из документации (RAG)
- Исторические данные и логи

## Примеры использования

### Пример 1: Проверка состояния систем
```
Пользователь: "Проверь температуру двигателя и уровень топлива"
Агент: 
1. Вызывает get_temperature("engine")
2. Вызывает get_fuel_level()
3. Анализирует результаты
4. Формирует ответ с рекомендациями
```

### Пример 2: Поиск процедуры
```
Пользователь: "Как выполнить аварийное отключение системы?"
Агент:
1. Использует RAG для поиска процедуры в документации
2. Получает релевантные фрагменты
3. Формирует пошаговую инструкцию
```

### Пример 3: Комплексная диагностика
```
Пользователь: "Проверь все системы и найди возможные проблемы"
Агент:
1. Вызывает все сенсорные инструменты
2. Анализирует данные
3. Ищет в документации информацию о нормальных значениях
4. Сравнивает текущие значения с нормой
5. Генерирует отчет с предупреждениями
```

## Расширяемость

Система спроектирована для легкого добавления новых функций:
- Новые инструменты можно добавить в `sensor_tools.py`
- Новые узлы графа можно добавить в `agent_graph.py`
- Новые категории функционала можно описать в этом файле

